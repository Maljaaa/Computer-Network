# 01. 라우팅 기능
![122](https://user-images.githubusercontent.com/61977260/194911771-d9095d7f-81ad-4596-9cb5-a3ed1beef00d.png)

* 크게 보내면?
  * 오류율 증가
  * 수신 시간 증가
* 작게 보내면?
  * 병렬처리(파이프 라인)로 시간 감소 

## 1. 라우팅 시스템
![image](https://user-images.githubusercontent.com/61977260/194913475-48a4da26-e2e6-4472-96a7-28c43b2f0bbc.png)

### 1.1) 회선 교환
* 회선 교환(Circuit Switching) : 호스트가 데이터를 전송하기 전에 연결 경로를 미리 설정하는 방식
* 모든 데이터가 같은 경로로 전달
* 안정적인 데이ㅓ 전송률
* 패킷x

### 1.2) 메시지 교환
* 메시지 교환(Message Switching) : 데이터를 전송하기 전에 경로를 설정하지 않고, 대신 전송하는 메시지의 헤더마다 목적지 주소를 표시하는 방식
* 송신 호스트가 전송하는 전체 데이터가 하나의 단위로 교환 처리된다

### 1.3) 패킷 교환
* 패킷 교환(Packet Switching) : 전송할 데이터를 패킷이라는 일정 크기로 나누어 전송하며, 송수신 호스트 사이에 연결이 존재하지 않으므로 각 패킷은 독립적인 라우팅 과정을 거침
* 전송 대역의 효율적 이용
 * 호스트 간 연결 시 전송 대역을 전용으로 할당 -> 다른 호스트 이용 x 
* 호스트의 무제한 수용
 * 임의의 연결 요청에 고정 대역을 할당하지 않음 -> 무한히 수용 가능   
* 패킷에 우선순위 부여
 * 데이터의 전송 작업이 패킷 단위로 이루어지기 때문 

## 2. 패킷 교환
### 2.1) 가상 회선
* 가상 회선(Virtual Circuit) : 연결형 서비스를 지원하기 위한 기능으로, 미리 설정된 논리적인 연결을 통해 전송되는 모든 패킷의 경로가 동일
![image](https://user-images.githubusercontent.com/61977260/195152657-d28c97ff-0d39-44cb-bde8-93f154ea3787.png)

> 패킷의 도착 순서가 바뀌지 않음

### 2.2) 데이터그램
* 데이터그램(Datagram) : 패킷 교환 방식에서 비연결형 서비스를 이용해 패킷을 독립적으로 전송하는 것
![image](https://user-images.githubusercontent.com/61977260/195151632-7a309547-9e97-4c13-aa35-a6de187553c3.png)
> 순서가 바뀌므로 수신 호스트에서 순서 결정해주는 기능 필요

## 3. 프레임 릴레이
* 물리적인 전송 오류가 발생할 확률이 매우 낮음
* 오류 제어 기능 중 중복되는 부분을 제거하면 패킷의 전송 속도를 높일 수 있음
* 프레임 릴레이(Frame Relay) : 한 호스트에서 수신한 프레임을 다른 호스트(3계층)로 중개하는 역할, 중복되는 오류 복구나 흐름 제어 기능은 수행하지 않으므로 데이터 링크 계층의 기능을 단순하게 설계 가능
![image](https://user-images.githubusercontent.com/61977260/195155384-6a6a1f9f-8ffe-4771-aefd-19a6c9127273.png)

# 02. 네트워크 분류
## 1. LAN
* LAN(Local ARea Network) : 단일 건물이나 학교 같은 가까운 거리에 위치하는 호스트로 구성된 네트워크

### 버스형
* 데이터 충돌 발생 가능
* 이터넷 -> 사후 해결 방식(충돌 후 문제 해결)

### 링형(Token ring, Round Robin 방식)
* 토큰(메시지 전달 권한을 가짐)으로 충돌 가능성을 원천적으로 차단

### 성형
* Hub(리피터) or Switching Hub(브리지) -> 확장성 좋음
* 필요한 만큼 허브에 붙히면 됌

### 매쉬형
* 유선
* 무선 - 와이파이

## 2. MAN
* MAN(Metropolitan Area Network) : LAN보다 큰 지역을 지원
* DQDB(Distributed Queue Dual Bus) : 고속망, 광통신, 광섬유 - MAN을 위한 국제 표준안
* ATM(Asynchronous Transfer Mode : 광통신 교환 기술 표준

## 3. WAN
* WAN(Wied Area Network) : 국가 이상의 넓은 지역을 지원하는 네트워크 구조

# 03. 인터네트워킹
* 인터네트워킹(Internetworking) : 둘 이상의 서로 다른 네트워크를 연결하는 기능
* 리피터(Repeater) : 1계층 역할 - 단순 증폭
* 브리지(Bridge) : 1, 2계층 역할 - 단순 증폭, mac주소로 중개 기능
* 라우터 : 1, 2, 3계층 역할 - 단순 증폭, mac주소로 중개 기능, 경로 설정

## 1. 브리지
![image](https://user-images.githubusercontent.com/61977260/195918349-e8aa3a13-5223-4517-b6b1-2386caed683a.png)

### 트랜스페런트 브리지
* 스스로 경로 설정 페이지(라우팅 테이블)를 만들 수 있음
![image](https://user-images.githubusercontent.com/61977260/195918848-b0c548ec-6a88-4309-aef9-a1cb81ac727f.png)

[ 주소 학습 ]
* 호스트 -> 브리지 : 호스트가 어디 포트에서 온 호스트인지 알게 됌
* 브리지 -> 호스트 : 남은 포트에 다 보내서 도착지로 보냄
* 호스트 -> 브리지 : 도착지에서 브리지로 다시 보내주면서 도착 호스트의 위치를 알게 됌
* 닫힌 구조 -> 사이클 : 주소 학습 불가능 => 트리로 만들어야 함
* 스패닝 트리 : 루프 없애기 위한 트리
* 라우팅 테이블 : 호스트 - 브리지 간의 이동으로 알게 된 위치를 기록함

### 소스 라우팅 브리지
* 갈 수 있는 몯느 경로르 ㄹ가서 최단 시간 경로를 사용 -> flooding(홍수)
* CSMA/CD 방식과 토큰 버스 방식에서 사용

## 2. IP 인터네트워킹
![image](https://user-images.githubusercontent.com/61977260/195921979-97c3f43e-cf33-40ff-b79f-3054b8c322cc.png)
> ppp : point to point protocol

## 3. 인터넷 라우팅
### 고정 경로 배정
* 송수신 호스트 사이에 고정 불변의 경로르 ㄹ배정

[ 장점 ]
* 트래픽을 미리 측정하여 고정 경로를 적절히 배정하면 간단하고 효율적인 라우팅 가능

[ 단점 ]
* 경로가 고정되므로 동적 경로 배정이 불가능

### 적응 경로 배정
* ex) 인터넷

### 자율 시스템
* 내부 라우팅 프로토콜 : 자율 시스템 내부에서 사용하는 공통 프로토콜(OSPF, RIP ...)
* 외부 라우팅 프로토콜 : 시스템 간에 사용하는 라우팅 프로토콜(BGP...)

# 04. 서비스 품질
## 1. QoS 개요
* Quality of Service : 전송 서비스의 품질 문제 다룸

* 연결 설정 지연 : request 프리미티브 - confirm 프리미티브 경과 시간 - 짧을수록 굳
* 연결 설정 실패 확률 : 최대 연결 설정 지연 시간을 기준으로 연결 실패
* 전송률 : 초당 전송할 수 있는 바이트 수
* 전송 지연 : 송신 호스트가 전송한 데이터가 수신 호스트에 도착할 때까지 경과한 시간
* 전송오류율 : 전송된 총 데이터 수와 오류 발생 데이터 수의 비율
* 우선순위 : 먼저 처리하는 데이터 순위
